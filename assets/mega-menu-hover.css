@media screen and (min-width: 990px) {
  /* Abre suave SIEMPRE */
  header details.mega-menu.is-opening[open] > .mega-menu__content {
    animation: megaIn 320ms cubic-bezier(0.22, 1, 0.36, 1) both;
  }

  /* Cierra suave SIEMPRE (mientras JS mantiene open) */
  header details.mega-menu.is-closing[open] > .mega-menu__content {
    animation: megaOut 220ms ease both;
  }

  @keyframes megaIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes megaOut {
    from { opacity: 1; transform: translateY(0); }
    to   { opacity: 0; transform: translateY(8px); }
  }
}
